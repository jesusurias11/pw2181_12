<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Webworkers HTML5</title>
</head>
<body>
	<p>contar numeros <div id="resultado"></div></p>
	<button onclick="iniciarWorker();">iniciar</button>
	<button onclick="pararWorker();">Detener</button>

	<p>contar numeros <div id="resultado2"></div></p>
	<button onclick="iniciarWorker2();">iniciar</button>
	<button onclick="pararWorker2();">Detener</button>


	<script>
		var w1,w2;
		function iniciarWorker(){
			//preguntar si soporta workers
			if (typeof(Worker) != "undefined"){
                 if (typeof(w1)=="undefined"){
                 w1=new Worker("demoWorker.js");
                 w1.onmessage = function(event){
                 	document.getElementById('resultado').innerHTML = event.data;
                 }

                 }

			}else{
				alert("El navegador no soporta workers");
			}

		}

		function iniciarWorker2(){
			//preguntar si soporta workers
			if (typeof(Worker) != "undefined"){
                 if (typeof(w2)=="undefined"){
                 w2=new Worker("demoWorker.js");
                 w2.onmessage = function(event){
                 	document.getElementById('resultado2').innerHTML = event.data;
                 }

                 }

			}else{
				alert("El navegador no soporta workers");
			}

		}

		function pararWorker2(){
			w2.terminate();
			w2= undefined;
		}

		function pararWorker(){
			w1.terminate();
			w1= undefined;
		}








	</script>
</body>
</html>